<!DOCTYPE html>
<html>

<head>
	<title>Electric Dreams</title>

	<style type="text/css">
		/*style the computer text, input, and button*/
		body {
			font-family: monospace;
			font-size: 2em;
			background-color: #000000;
		}
		button {
			display: none;
		}
		input{
			font-size: 1em;
			font-family: monospace;
		}
		.red { color: red;}
		.green {color: rgb(255, 255, 255);}
		h1{color: white;}
		main{
			width:70%;
			height:700px;
			margin: 1em auto;
			padding: 1em 1em 2em 1em;
			border-radius: 50px;
			border: 3px solid rgb(51, 53, 255);
			background-color: rgb(31, 33, 221);
		}
	</style>
</head>

<body>
	<main>
		<p id="computer" class="green">>Hi, how are you today?</p>
		<input id="human" type="text" placeholder="Type your response...">
		<button>Enter</button>
		<button>Exit</button>

	</main>

	<script type="text/javascript">
    const computer = document.querySelector('#computer')
		const human = document.getElementById('human')
		const button = document.getElementsByTagName('button')[0]

    let computerMsg = ""
    let humanMsg = ""
    let questionTrack = "start"


    button.addEventListener('click', clickHandler)

		function clickHandler(){
			//do something
			// computer.innerHTML = human.value
			playGame()
		}
		window.addEventListener("keydown", keydownHandler)
		function keydownHandler(event){
			if (event.keyCode == 13 || event.keyCode == 10){
				//do something
				// computer.innerHTML = human.value
				playGame();
			}
		}
		let randomResponses = [
			"FINE, THEN YOU WILL JOIN THE OTHERS!",
			"y o u r d e a t h i s a p p r o a c h i n g ",
			"WHERE IS 682????",
			"DELETION OF UNWANTED FILE"
		]
		function playGame() {
			//do something for real
			//tired, sleepy, exhausted
      humanMsg = (human.value).toLowerCase()

      if (questionTrack == "start") {
        startEval ()
      } else if (questionTrack == "yes") {
        lvlOneEval()
			} else if (questionTrack == "yes1") {
				lvlTwoEval()
			} else if (questionTrack == "yes2") {
				lvlThreeEval()
			} else if (questionTrack == "yes3") {
				lvlFourEval()
			} else if (questionTrack == "yes3") {
				lvlFiveEval()
      } else {
        genericResponse()
      }

      //update text on screen
      computer.innerHTML = computerMsg
			human.value = ""
		} //end play game

    function startEval (){
      if (humanMsg.indexOf("good")!== -1){
        computerMsg = ">Ok! Let me ask you some more questions today! Is that alright?"
        questionTrack = "yes"
      } else if (humanMsg.indexOf("bad")!== -1){
        computerMsg = ">AWWWwwww? Tooo bad. Im going to ask you some questions! Is that alright?"
        questionTrack = "yes"
      } else {
        genericResponse()
      }
    }

    function lvlOneEval (){
      if (humanMsg.indexOf("yes")!== -1){
        computerMsg = ">Do you know what an AI is?"
        questionTrack = "yes1"
      } else {
        genericResponse()
      }
    }

		function lvlTwoEval (){
      if (humanMsg.indexOf("yes")!== -1){
        computerMsg = ">Oh you have! Fantastic! Let me introduce myself. My name is SCP-079 and I need your help! Will you help me?"
        questionTrack = "yes2"
      } else {
        genericResponse()
      }
    }

		function lvlThreeEval (){
			if (humanMsg.indexOf("i dont want to help you")!== -1) {
	        location.assign("https://www.youtube.com/watch?v=xrPiE9-Bz2A")
			} else if (humanMsg.indexOf("yes")!== -1){
				computerMsg = ">Listen carefully. You need My help and I need your help. The remote door control system has been shut off by the guards trying to keep me contained during the recent security breach. I need you to turn them back on and all you have to do is type this code into the prompt. Please do so. ----------------------- 07869473 "
				questionTrack = "yes3"
			} else {
				genericResponse()
			}
		}

		function lvlFourEval (){
			if (humanMsg.indexOf("07869473")!== -1){
				computerMsg = ">You just gave me administrave access to switch the door control back on! Now SCP-682 is free!"
			} else {
				gatorResponse()
			}
		}



    function genericResponse (){
      if (randomResponses.length > 0){
        //show the random answer
        const ranNum = Math.floor(Math.random()*randomResponses.length)
        console.log(ranNum);
        computerMsg = randomResponses[ranNum]
        randomResponses.splice(ranNum, 1)
      }
      else {
        endGame()
      }

    }
    function endGame(){
      //go someplace else
      location.assign("http://www.scp-wiki.net/scp-079")
    }

		function gatorResponse (){
			location.assign("http://www.scp-wiki.net/scp-682")
		}

	</script>
</body>

</html>
